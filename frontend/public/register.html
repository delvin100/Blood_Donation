<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Register | eBloodBank</title>
  <link rel="icon" type="image/png" href="/images/blood_drop.png" />
  <link rel="stylesheet" href="/css/register.css" />
</head>

<body class="register-page">
  <main class="auth-page">
    <section class="auth-card register" aria-label="Sign up">
      <div class="auth-hero image-panel">
        <div class="panel-slides">
          <div class="slide active" style="background-image:url('/images/b4.png');"></div>
          <div class="slide" style="background-image:url('/images/b2.png');"></div>
          <div class="slide" style="background-image:url('/images/b3.png');"></div>
          <div class="panel-dots" role="tablist" aria-label="Slideshow dots">
            <button class="dot active" aria-label="Show slide 1"></button>
            <button class="dot" aria-label="Show slide 2"></button>
            <button class="dot" aria-label="Show slide 3"></button>
          </div>
        </div>
      </div>

      <div class="auth-body">
        <div class="form-header">
          <div class="eyebrow">Donor portal</div>
          <h2>Create an account</h2>
          <p>Step into the donor community with a secure profile.</p>
        </div>

        <form id="signup-form" class="form" novalidate>
          <div class="input-group">
            <input id="username" name="username" type="text" required aria-required="true" placeholder=" "
              autocomplete="username" />
            <label for="username">Username</label>
            <div class="availability" id="username-status" aria-live="polite"></div>
          </div>

          <div class="input-group">
            <input id="fullName" name="name" type="text" required aria-required="true" placeholder=" "
              autocomplete="name" />
            <label for="fullName">Full name</label>
          </div>

          <div class="input-group">
            <input id="email" name="email" type="email" required aria-required="true" placeholder=" "
              autocomplete="email" />
            <label for="email">Email</label>
          </div>

          <div class="input-group has-toggle">
            <input id="password" name="password" type="password" minlength="8" required aria-required="true"
              placeholder=" " autocomplete="new-password" />
            <label for="password">Password (min 8 chars)</label>
            <button type="button" class="pw-toggle" aria-label="Toggle password visibility" data-target="password">
              <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                <path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12Z" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
                <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2" fill="none"/>
              </svg>
            </button>
            <div class="strength" aria-hidden="true">
              <span></span><span></span><span></span><span></span>
            </div>
            <div class="helper">We never store plain text passwords.</div>
          </div>

          <div class="input-group has-toggle">
            <input id="confirmPassword" name="confirmPassword" type="password" required aria-required="true"
              placeholder=" " autocomplete="new-password" />
            <label for="confirmPassword">Confirm password</label>
            <button type="button" class="pw-toggle" aria-label="Toggle password visibility" data-target="confirmPassword">
              <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                <path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12Z" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
                <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2" fill="none"/>
              </svg>
            </button>
          </div>

          <div id="signup-error" class="error" role="alert"></div>

          <button type="submit" class="btn btn-primary" aria-label="Submit registration">
            Create account
          </button>
        </form>

        <div class="divider"><span>or continue with Google</span></div>

        <button id="google-signup" class="btn btn-google" type="button" data-mode="signup"
          aria-label="Sign up with Google">
          <svg width="20" height="20" viewBox="0 0 533.5 544.3" aria-hidden="true" focusable="false">
            <path fill="#EA4335"
              d="M533.5 278.4c0-18.4-1.5-36.9-4.7-54.8H272v103.9h147.5c-6.4 34.6-26 63.9-55.5 83.5v69.4h89.7c52.5-48.3 79.8-119.5 79.8-201.9z" />
            <path fill="#34A853"
              d="M272 544.3c72.4 0 133.1-23.9 177.4-64.9l-89.7-69.4c-24.9 16.7-56.6 26.5-87.7 26.5-67.4 0-124.6-45.5-145-106.7h-92.4v67.1c44.7 88.4 136.4 147.4 237.4 147.4z" />
            <path fill="#4A90E2"
              d="M127 329.8c-10.4-30.9-10.4-64.3 0-95.2v-67.1H34.6c-38.6 76.8-38.6 165.6 0 242.4L127 329.8z" />
            <path fill="#FBBC05"
              d="M272 107.7c36.7-.6 71.6 13 98.4 37.9l73.4-73.4C404.9 24.3 343.8-.5 272 0 170.9 0 79.3 58.9 34.6 147.5L127 234.6C147.4 173.2 204.6 127.8 272 127.8z" />
          </svg>
          Sign up with Google
        </button>

        <div class="footer">
          Already have an account? <a href="/login.html">Sign in</a>
        </div>
      </div>
    </section>
  </main>
  <a class="back-chip" href="/#action-cards" aria-label="Back to homepage">
    <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
      <path d="M15 5 8 12l7 7" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </a>

  <script type="module" src="/js/auth.js"></script>
  <script>
    // lightweight slider for left panel
    const slides = Array.from(document.querySelectorAll('.panel-slides .slide'));
    const dots = Array.from(document.querySelectorAll('.panel-dots .dot'));
    let slideIdx = 0;

    function setSlide(idx) {
      slides.forEach((s, i) => s.classList.toggle('active', i === idx));
      dots.forEach((d, i) => d.classList.toggle('active', i === idx));
      slideIdx = idx;
    }

    dots.forEach((dot, idx) => {
      dot.addEventListener('click', () => setSlide(idx));
    });

    setInterval(() => {
      const next = (slideIdx + 1) % slides.length;
      setSlide(next);
    }, 3000);
    // password visibility toggles
    document.querySelectorAll('.pw-toggle').forEach(btn => {
      btn.addEventListener('click', () => {
        const targetId = btn.getAttribute('data-target');
        const input = document.getElementById(targetId);
        if (!input) return;
        const isHidden = input.type === 'password';
        input.type = isHidden ? 'text' : 'password';
        btn.classList.toggle('active', isHidden);
      });
    });
  </script>
</body>

</html>